{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Leonidas\\\\Desktop\\\\SongRecommendationTool\\\\src\\\\srt\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport \"./App.css\";\nimport * as React from \"react\";\nimport \"./App.css\";\nimport Rating from \"@mui/material/Rating\";\nimport { ChangeEvent, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const SpotCID = \"074ce5408b5d4e25975ad957adf4b0b9\";\n  const redirect_uri = \"http://localhost:3000\";\n  const auth_endpoint = \"https://accounts.spotify.com/authorize\";\n  const scopes = [\"user-read-private\", \"user-read-email\", \"playlist-modify-public\", \"playlist-modify-private\"];\n  const resp_type = \"token&show_dialog=true\";\n  const loginurl = `${auth_endpoint}?client_id=${SpotCID}&redirect_uri=${redirect_uri}&scope=${scopes.join(\"%20\")}&response_type=${resp_type}`;\n  const [track, setTrack] = useState(\"\");\n  const [artist, setArtist] = useState(\"\");\n  const [rating, setRating] = useState(0);\n  const [songComponents, setSongComponents] = useState([]);\n  const [messageData, setMessageData] = useState({\n    message: \"\"\n  });\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadingRecs, setLoadingRecs] = useState(false);\n  const [numOfRecs, setNumOfRecs] = useState(\"\");\n  const [numOfSames, setNumOfSames] = useState(\"\");\n  const [recs, setRecs] = useState({\n    message: \"\"\n  });\n  const [showCreatePlaylist, setShowCreatePlaylist] = useState(false);\n  const [loadingPlaylist, setLoadingPlaylist] = useState(false);\n  const [playlist, setPlaylist] = useState({\n    message: \"\",\n    errors: \"\"\n  });\n  const [createdPlaylist, setCreatedPlaylist] = useState(false);\n  const [topTags, setTopTags] = useState({\n    message: \"\"\n  });\n  const [gotTags, setGotTags] = useState(false);\n  const [tagOne, setTagOne] = useState(\"\");\n  const [tagTwo, setTagTwo] = useState(\"\");\n  const [tagThree, setTagThree] = useState(\"\");\n  let loading = false;\n  const addSongComponent = () => {\n    sendAddData();\n  };\n  const trackChange = e => {\n    setTrack(e.target.value);\n  };\n  const artistChange = e => {\n    setArtist(e.target.value);\n  };\n  const numOfRecsChange = e => {\n    setNumOfRecs(e.target.value);\n  };\n  const numOfSamesChange = e => {\n    setNumOfSames(e.target.value);\n  };\n  const tagOneChange = e => {\n    setTagOne(e.target.value);\n  };\n  const tagTwoChange = e => {\n    setTagTwo(e.target.value);\n  };\n  const tagThreeChange = e => {\n    setTagThree(e.target.value);\n  };\n  const submitSongs = async () => {\n    try {\n      setLoadingRecs(true);\n      const response = await fetch(\"http://localhost:5000/api/submit-songs\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(numOfRecs + \"/\" + numOfSames + \"/\" + tagOne + \"/\" + tagTwo + \"/\" + tagThree)\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to submit\");\n      }\n      setRecs(await response.json());\n      setShowCreatePlaylist(true);\n      setLoadingRecs(false);\n    } catch (error) {\n      console.error(\"Error: \", error);\n    }\n  };\n  const sendAddData = async () => {\n    try {\n      setIsLoading(true);\n      const response = await fetch(\"http://localhost:5000/api/data\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(track + \"/\" + artist + \"/\" + rating)\n      });\n      if (!response.ok) {\n        throw new Error(\"HTTP error! Status: ${response.status}\");\n      }\n      const result = await response.json();\n      setMessageData(result);\n    } catch (error) {\n      console.error(\"Error sending data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const sendRemoveData = async () => {\n    try {\n      setIsLoading(true);\n      const response = await fetch(\"http://localhost:5000/api/data\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(\"r\")\n      });\n      if (!response.ok) {\n        throw new Error(\"HTTP error! Status: ${response.status}\");\n      }\n      setMessageData({\n        message: \"r\"\n      });\n    } catch (error) {\n      console.error(\"Error sending data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const clearSongs = () => {\n    const userConfirmed = window.confirm(\"Are you sure you want to clear all songs?\");\n    if (userConfirmed) {\n      sendClearData();\n    }\n  };\n  const sendClearData = async () => {\n    try {\n      setIsLoading(true);\n      const response = await fetch(\"http://localhost:5000/api/data\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(\"c\")\n      });\n      if (!response.ok) {\n        throw new Error(\"HTTP error! Status: ${response.status}\");\n      }\n      setMessageData({\n        message: \"c\"\n      });\n    } catch (error) {\n      console.error(\"Error sending data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const getTokenFromUrl = () => {\n    return window.location.hash.substring(1).split(\"&\").reduce((initial, item) => {\n      let parts = item.split(\"=\");\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n      return initial;\n    }, {});\n  };\n  useEffect(() => {\n    if (messageData.message !== \"\" && messageData.message !== \"r\" && messageData.message !== \"c\") {\n      setSongComponents(prevComponents => [...prevComponents, [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: messageData.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Rating, {\n          precision: 0.5,\n          value: rating,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, prevComponents.length, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this)]]);\n    } else if (messageData.message == \"r\") {\n      setSongComponents(prevComponents => {\n        if (prevComponents.length > 0) {\n          const updatedComponents = [...prevComponents];\n          updatedComponents.pop();\n          return updatedComponents;\n        } else {\n          return prevComponents;\n        }\n      });\n    } else if (messageData.message == \"c\") {\n      setSongComponents([]);\n    }\n  }, [messageData]);\n  useEffect(() => {\n    const t = getTokenFromUrl().access_token;\n    if (t && t != \"\" && t[0] != \" \" && t != null && !loadingPlaylist && !loading) {\n      setLoadingPlaylist(true);\n      loading = true;\n      const createPlaylist = async () => {\n        try {\n          console.log(\"here\");\n          const response = await fetch(\"http://localhost:5000/api/create-playlist\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(t)\n          });\n          if (!response.ok) {\n            throw new Error(\"HTTP error! Status: ${response.status}\");\n          }\n          setPlaylist(await response.json());\n        } catch (error) {\n          console.error(\"Error sending data:\", error);\n        } finally {\n          setLoadingPlaylist(false);\n          setCreatedPlaylist(true);\n          loading = false;\n          window.location.hash = \"\";\n        }\n      };\n      if (!loadingPlaylist) {\n        createPlaylist();\n      }\n    }\n  }, []);\n  useEffect(() => {\n    const fetchTopTags = async () => {\n      try {\n        setGotTags(true);\n        const response = await fetch(\"http://localhost:5000/api/fetch-top-tags\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        if (!response.ok) {\n          throw new Error(\"HTTP error! Status: ${response.status}\");\n        }\n        const result = await response.json();\n        setTopTags(result);\n      } catch (error) {\n        console.error(\"Error fetching top tags: \", error);\n      }\n    };\n    if (gotTags == false) {\n      fetchTopTags();\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App bg-fuchsia-800 min-h-screen flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-serif\",\n        children: \"Song Recommendation Tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-serif\",\n        children: \"A project by Leonidas Ioannou\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-64 text-center mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-base font-mono\",\n        children: \"How to use: Enter the title of the song, the name of the artist, and your rating of that song in the corresponding input fields, then press the Add Song button. Repeat for as many songs as you would like to input(the more songs you give, the better recommendations you get!). When you\\u2019re done entering songs, enter how many recommendations you would like, how many recommendations you would like from the same artist, any tags you would like to prioritise, and click Submit!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Song Search items-center mt-4 flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: \"Song\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"mb-4\",\n          value: track,\n          onChange: trackChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: \"Artist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"mb-4\",\n          value: artist,\n          onChange: artistChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-1\",\n          children: \"Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Rating, {\n          name: \"controlled\",\n          precision: 0.5,\n          value: rating,\n          onChange: (event, newRating) => {\n            setRating(newRating);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col ml-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addSongComponent,\n          disabled: isLoading,\n          children: isLoading ? \"Searching...\" : \"+Add Song\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: songComponents.map((component, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: component\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendRemoveData,\n        disabled: isLoading,\n        children: isLoading ? \"Removing...\" : \"Remove Song\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearSongs,\n        disabled: isLoading,\n        children: isLoading ? \"Clearing...\" : \"Clear Songs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Enter number of recommendations to get:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Number of recommendations\",\n        value: numOfRecs,\n        onChange: numOfRecsChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"How many recommendations from the same artist should be allowed?(Recommended: 2)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Same artist recs\",\n        value: numOfSames,\n        onChange: numOfSamesChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Popular tags: \", topTags.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"(Optional) Enter three or less genre tags you would like to prioritise:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Tag 1\",\n        value: tagOne,\n        onChange: tagOneChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Tag 2\",\n        value: tagTwo,\n        onChange: tagTwoChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Tag 3\",\n        value: tagThree,\n        onChange: tagThreeChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: submitSongs,\n        disabled: loadingRecs,\n        children: loadingRecs ? \"Submitting...\" : \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this), recs.message, showCreatePlaylist && /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: loginurl,\n          target: \"_blank\",\n          children: loadingPlaylist ? \"Creating a Spotify Playlist.. Please Wait\" : \"Create a Spotify Playlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: playlist.message,\n        target: \"_blank\",\n        children: createdPlaylist ? \"Link to Playlist\" : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: createdPlaylist ? playlist.errors : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"RVX1Mu2enVwkuBUhGaK9baeNFCc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Rating","ChangeEvent","useState","useEffect","jsxDEV","_jsxDEV","App","_s","SpotCID","redirect_uri","auth_endpoint","scopes","resp_type","loginurl","join","track","setTrack","artist","setArtist","rating","setRating","songComponents","setSongComponents","messageData","setMessageData","message","isLoading","setIsLoading","loadingRecs","setLoadingRecs","numOfRecs","setNumOfRecs","numOfSames","setNumOfSames","recs","setRecs","showCreatePlaylist","setShowCreatePlaylist","loadingPlaylist","setLoadingPlaylist","playlist","setPlaylist","errors","createdPlaylist","setCreatedPlaylist","topTags","setTopTags","gotTags","setGotTags","tagOne","setTagOne","tagTwo","setTagTwo","tagThree","setTagThree","loading","addSongComponent","sendAddData","trackChange","e","target","value","artistChange","numOfRecsChange","numOfSamesChange","tagOneChange","tagTwoChange","tagThreeChange","submitSongs","response","fetch","method","headers","body","JSON","stringify","ok","Error","json","error","console","result","sendRemoveData","clearSongs","userConfirmed","window","confirm","sendClearData","getTokenFromUrl","location","hash","substring","split","reduce","initial","item","parts","decodeURIComponent","prevComponents","children","fileName","_jsxFileName","lineNumber","columnNumber","precision","readOnly","length","updatedComponents","pop","t","access_token","createPlaylist","log","fetchTopTags","className","onChange","name","event","newRating","onClick","disabled","map","component","index","placeholder","href","_c","$RefreshReg$"],"sources":["C:/Users/Leonidas/Desktop/SongRecommendationTool/src/srt/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport * as React from \"react\";\nimport \"./App.css\";\nimport Rating from \"@mui/material/Rating\";\nimport { ChangeEvent, useState, useEffect } from \"react\";\n\nfunction App() {\n  const SpotCID = \"074ce5408b5d4e25975ad957adf4b0b9\";\n  const redirect_uri = \"http://localhost:3000\";\n  const auth_endpoint = \"https://accounts.spotify.com/authorize\";\n  const scopes = [\n    \"user-read-private\",\n    \"user-read-email\",\n    \"playlist-modify-public\",\n    \"playlist-modify-private\",\n  ];\n  const resp_type = \"token&show_dialog=true\";\n  const loginurl = `${auth_endpoint}?client_id=${SpotCID}&redirect_uri=${redirect_uri}&scope=${scopes.join(\n    \"%20\"\n  )}&response_type=${resp_type}`;\n  const [track, setTrack] = useState(\"\");\n  const [artist, setArtist] = useState(\"\");\n  const [rating, setRating] = useState(0);\n  const [songComponents, setSongComponents] = useState([]);\n  const [messageData, setMessageData] = useState({ message: \"\" });\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadingRecs, setLoadingRecs] = useState(false);\n  const [numOfRecs, setNumOfRecs] = useState(\"\");\n  const [numOfSames, setNumOfSames] = useState(\"\");\n  const [recs, setRecs] = useState({ message: \"\" });\n  const [showCreatePlaylist, setShowCreatePlaylist] = useState(false);\n  const [loadingPlaylist, setLoadingPlaylist] = useState(false);\n  const [playlist, setPlaylist] = useState({ message: \"\", errors: \"\" });\n  const [createdPlaylist, setCreatedPlaylist] = useState(false);\n  const [topTags, setTopTags] = useState({ message: \"\" });\n  const [gotTags, setGotTags] = useState(false);\n  const [tagOne, setTagOne] = useState(\"\");\n  const [tagTwo, setTagTwo] = useState(\"\");\n  const [tagThree, setTagThree] = useState(\"\");\n  let loading = false;\n  const addSongComponent = () => {\n    sendAddData();\n  };\n  const trackChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setTrack(e.target.value);\n  };\n  const artistChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setArtist(e.target.value);\n  };\n  const numOfRecsChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setNumOfRecs(e.target.value);\n  };\n  const numOfSamesChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setNumOfSames(e.target.value);\n  };\n  const tagOneChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setTagOne(e.target.value);\n  };\n  const tagTwoChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setTagTwo(e.target.value);\n  };\n  const tagThreeChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setTagThree(e.target.value);\n  };\n  const submitSongs = async () => {\n    try {\n      setLoadingRecs(true);\n      const response = await fetch(\"http://localhost:5000/api/submit-songs\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(\n          numOfRecs +\n            \"/\" +\n            numOfSames +\n            \"/\" +\n            tagOne +\n            \"/\" +\n            tagTwo +\n            \"/\" +\n            tagThree\n        ),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to submit\");\n      }\n      setRecs(await response.json());\n      setShowCreatePlaylist(true);\n      setLoadingRecs(false);\n    } catch (error) {\n      console.error(\"Error: \", error);\n    }\n  };\n  const sendAddData = async () => {\n    try {\n      setIsLoading(true);\n      const response = await fetch(\"http://localhost:5000/api/data\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(track + \"/\" + artist + \"/\" + rating),\n      });\n      if (!response.ok) {\n        throw new Error(\"HTTP error! Status: ${response.status}\");\n      }\n      const result = await response.json();\n      setMessageData(result);\n    } catch (error) {\n      console.error(\"Error sending data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const sendRemoveData = async () => {\n    try {\n      setIsLoading(true);\n      const response = await fetch(\"http://localhost:5000/api/data\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(\"r\"),\n      });\n      if (!response.ok) {\n        throw new Error(\"HTTP error! Status: ${response.status}\");\n      }\n      setMessageData({ message: \"r\" });\n    } catch (error) {\n      console.error(\"Error sending data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const clearSongs = () => {\n    const userConfirmed = window.confirm(\n      \"Are you sure you want to clear all songs?\"\n    );\n    if (userConfirmed) {\n      sendClearData();\n    }\n  };\n\n  const sendClearData = async () => {\n    try {\n      setIsLoading(true);\n      const response = await fetch(\"http://localhost:5000/api/data\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(\"c\"),\n      });\n      if (!response.ok) {\n        throw new Error(\"HTTP error! Status: ${response.status}\");\n      }\n      setMessageData({ message: \"c\" });\n    } catch (error) {\n      console.error(\"Error sending data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const getTokenFromUrl = () => {\n    return window.location.hash\n      .substring(1)\n      .split(\"&\")\n      .reduce((initial, item) => {\n        let parts = item.split(\"=\");\n        initial[parts[0]] = decodeURIComponent(parts[1]);\n        return initial;\n      }, {});\n  };\n  useEffect(() => {\n    if (\n      messageData.message !== \"\" &&\n      messageData.message !== \"r\" &&\n      messageData.message !== \"c\"\n    ) {\n      setSongComponents((prevComponents) => [\n        ...prevComponents,\n        [\n          <div key={prevComponents.length}>\n            <p>{messageData.message}</p>\n            <Rating precision={0.5} value={rating} readOnly />\n          </div>,\n        ],\n      ]);\n    } else if (messageData.message == \"r\") {\n      setSongComponents((prevComponents) => {\n        if (prevComponents.length > 0) {\n          const updatedComponents = [...prevComponents];\n          updatedComponents.pop();\n          return updatedComponents;\n        } else {\n          return prevComponents;\n        }\n      });\n    } else if (messageData.message == \"c\") {\n      setSongComponents([]);\n    }\n  }, [messageData]);\n  useEffect(() => {\n    const t = getTokenFromUrl().access_token;\n    if (\n      t &&\n      t != \"\" &&\n      t[0] != \" \" &&\n      t != null &&\n      !loadingPlaylist &&\n      !loading\n    ) {\n      setLoadingPlaylist(true);\n      loading = true;\n      const createPlaylist = async () => {\n        try {\n          console.log(\"here\");\n          const response = await fetch(\n            \"http://localhost:5000/api/create-playlist\",\n            {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n              body: JSON.stringify(t),\n            }\n          );\n          if (!response.ok) {\n            throw new Error(\"HTTP error! Status: ${response.status}\");\n          }\n          setPlaylist(await response.json());\n        } catch (error) {\n          console.error(\"Error sending data:\", error);\n        } finally {\n          setLoadingPlaylist(false);\n          setCreatedPlaylist(true);\n          loading = false;\n          window.location.hash = \"\";\n        }\n      };\n      if (!loadingPlaylist) {\n        createPlaylist();\n      }\n    }\n  }, []);\n  useEffect(() => {\n    const fetchTopTags = async () => {\n      try {\n        setGotTags(true);\n        const response = await fetch(\n          \"http://localhost:5000/api/fetch-top-tags\",\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n        if (!response.ok) {\n          throw new Error(\"HTTP error! Status: ${response.status}\");\n        }\n        const result = await response.json();\n        setTopTags(result);\n      } catch (error) {\n        console.error(\"Error fetching top tags: \", error);\n      }\n    };\n    if (gotTags == false) {\n      fetchTopTags();\n    }\n  }, []);\n  return (\n    <div className=\"App bg-fuchsia-800 min-h-screen flex flex-col items-center\">\n      <header className=\"App-header mt-4\">\n        <h1 className=\"text-3xl font-serif\">Song Recommendation Tool</h1>\n        <h3 className=\"font-serif\">A project by Leonidas Ioannou</h3>\n      </header>\n      <div className=\"mx-64 text-center mt-4\">\n        <p className=\"text-base font-mono\">\n          How to use: Enter the title of the song, the name of the artist, and\n          your rating of that song in the corresponding input fields, then press\n          the Add Song button. Repeat for as many songs as you would like to\n          input(the more songs you give, the better recommendations you get!).\n          When youâ€™re done entering songs, enter how many recommendations you\n          would like, how many recommendations you would like from the same\n          artist, any tags you would like to prioritise, and click Submit!\n        </p>\n      </div>\n      <div className=\"Song Search items-center mt-4 flex\">\n        <div className=\"flex flex-col\">\n          <p className=\"mb-1\">Song</p>\n          <input className=\"mb-4\" value={track} onChange={trackChange} />\n        </div>\n        <div className=\"flex flex-col ml-4\">\n          <p className=\"mb-1\">Artist</p>\n          <input className=\"mb-4\" value={artist} onChange={artistChange} />\n        </div>\n        <div className=\"flex flex-col ml-4\">\n          <p className=\"mb-1\">Rating</p>\n          <Rating\n            name=\"controlled\"\n            precision={0.5}\n            value={rating}\n            onChange={(event, newRating) => {\n              setRating(newRating);\n            }}\n          />\n        </div>\n        <div className=\"flex flex-col ml-4\">\n          <button onClick={addSongComponent} disabled={isLoading}>\n            {isLoading ? \"Searching...\" : \"+Add Song\"}\n          </button>\n        </div>\n      </div>\n      <div>\n        <div>\n          {songComponents.map((component, index) => (\n            <div key={index}>{component}</div>\n          ))}\n        </div>\n        <button onClick={sendRemoveData} disabled={isLoading}>\n          {isLoading ? \"Removing...\" : \"Remove Song\"}\n        </button>\n        <button onClick={clearSongs} disabled={isLoading}>\n          {isLoading ? \"Clearing...\" : \"Clear Songs\"}\n        </button>\n        <p>Enter number of recommendations to get:</p>\n        <input\n          placeholder=\"Number of recommendations\"\n          value={numOfRecs}\n          onChange={numOfRecsChange}\n        />\n        <p>\n          How many recommendations from the same artist should be\n          allowed?(Recommended: 2)\n        </p>\n        <input\n          placeholder=\"Same artist recs\"\n          value={numOfSames}\n          onChange={numOfSamesChange}\n        />\n        <p>Popular tags: {topTags.message}</p>\n        <p>\n          (Optional) Enter three or less genre tags you would like to\n          prioritise:\n        </p>\n        <input\n          placeholder=\"Tag 1\"\n          value={tagOne}\n          onChange={tagOneChange}\n        ></input>\n        <input\n          placeholder=\"Tag 2\"\n          value={tagTwo}\n          onChange={tagTwoChange}\n        ></input>\n        <input\n          placeholder=\"Tag 3\"\n          value={tagThree}\n          onChange={tagThreeChange}\n        ></input>\n        <button onClick={submitSongs} disabled={loadingRecs}>\n          {loadingRecs ? \"Submitting...\" : \"Submit\"}\n        </button>\n        {recs.message}\n        {showCreatePlaylist && (\n          <button>\n            <a href={loginurl} target=\"_blank\">\n              {loadingPlaylist\n                ? \"Creating a Spotify Playlist.. Please Wait\"\n                : \"Create a Spotify Playlist\"}\n            </a>\n          </button>\n        )}\n        <a href={playlist.message} target=\"_blank\">\n          {createdPlaylist ? \"Link to Playlist\" : \"\"}\n        </a>\n        <p>{createdPlaylist ? playlist.errors : \"\"}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}